<html>
   <head>
       <meta charset="UTF-8"/>
       <title>try try see</title>
       <link href="style.css" rel="stylesheet">
       <script src="phaser.min.js"></script>
       <script src="jquery-2.2.0.min.js"></script>
       <script src="jsinterpreter/acorn_interpreter.js"></script>
   </head>
   <body>
        <!--requirejs-->
        <script src="bower_components/requirejs/require.js"></script>

        <script type="text/javascript">

        var playGround = null;

        requirejs.config({
            baseUrl: "./",
            paths: {
                boot: 'js/boot',
                battle: 'js/battle',
                boss: 'js/boss',
                tutorial: 'js/tutorial',
                creature: 'js/creature',
                Cookies: 'bower_components/js-cookie/src/js.cookie',
                swal : 'bower_components/bootstrap-sweetalert/lib/sweet-alert.min',
                ShortQuiz: 'js/ShortQuiz',
                AceEditor: 'js/aceEditor',
                ace: 'js/ace-builds/src-noconflict/ace',
                domReady: "js/domReady/domReady",
                CodeQuestion: 'js/CodeQuestion',
                CodeQuestionbase: 'js/CodeQuestionbase',
            }
        });

        require( ["boot", "battle", "boss", "tutorial", "creature", "ShortQuiz", "AceEditor"],
            function(boot, battle, boss, tutorial, creature, ShortQuiz, AceEditor) {
                //This function will be called when all the dependencies
                //listed above are loaded. Note that this function could
                //be called before the page is loaded.
                //This callback is optional.

               //可調參數 start **************************************
               var gameWidth = 800;
               var gameHeight = 600;
               // var gameWidth = Math.floor($(document).width() * 0.7 -5 );
               // var gameHeight = Math.floor($(document).height() - 5);

               // 可調參數 end ************************************


                // phaserCreate the game object itself
                var game = new Phaser.Game(
                    gameWidth,    gameHeight,                   // 800 x 600 rebackgroundolution.
                    Phaser.AUTO,                   // Allow Phaser to determine Canvas or WebGL
                   "tts"                   // The HTML element ID we will connect Phaser to.
                );

                game.States = {}; //創建一個對象來存放要用到的state

                //boot場景，用來做一些遊戲啟動前的準備
                game.States.boot = boot.boot(game);
                var battleObj = new battle.battle(game, $('#question-text'))();
                game.States.battle = battleObj;

                game.States.tutorial = tutorial.tutorial(game);

                var editor = AceEditor.initAce();

                game.States.boss = boss.boss(game, $('#bossAnswer'), editor, $('#question-text'));

                $(document).on("keydown", function (e) {
                    battleObj.handleBackspace(e);
                });



                //把定義好的場景添加到遊戲中
                game.state.add('boot', game.States.boot);
                game.state.add('battle', game.States.battle);
                game.state.add('boss', game.States.boss);
                game.state.add('tutorial', game.States.tutorial);
                game.state.start('boot');


            }
        );
       </script>

       <div class="container">
         <div class="gameview">
           <div id="bossAnswer" class="boss" style="display:none; opacity:0.8">
<pre id="editor" class="boss-text">
// write your code here
</pre>
              
           </div>
           <div id="tts"></div>
         </div>
         <div class="question-block" id="question-block">
           <!-- 題目這邊-->
           <div class="question-text" id="question-text">
           </div>
           <input id="bossAnswerSubmitButton" type="submit" value="RUN" class="boss-button">
         </div>
       </div>

       <script lang="javascript">



       </script>
   </body>
</html>
